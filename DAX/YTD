YTD := 
IF (
    [ShowValueForDates],                                                            -- only for dates available
    VAR LastDayAvailable =  MAX ( dimDate [Ops Day of Fiscal Year Number] )         -- max day of fiscal year
    VAR LastFiscalYearAvailable = MAX ( dimDate [Ops Fiscal Year Number] )          -- current fiscal year
    VAR Result =
        CALCULATE (
            [AC],                                                                   -- selected measure
            ALLEXCEPT ( dimDate, dimDate[Ops Day of Week] ),                        -- clear filters on date table, except day of week                  
            dimDate[Ops Day of Fiscal Year Number] <= LastDayAvailable,             -- same number of days from prior year, same time period
            dimDate[Ops Fiscal Year Number] = LastFiscalYearAvailable               -- current fiscal year
        )
    RETURN
        Result
)
